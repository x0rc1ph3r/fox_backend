model Auction {
  id                  Int           @id @default(autoincrement())
  createdBy           String        // Solana wallet address
  
  // Prize details
  prizeMint           String        
  prizeName           String?       
  prizeImage          String?       
  collectionName      String?       
  collectionVerified  Boolean       @default(false) 
  floorPrice          Float? 
  traits              Json?
  details             Json?
 
  createdAt           DateTime      @default(now())
  startsAt            DateTime      @default(now())
  timeExtension       Int?          
  updatedAt           DateTime      @updatedAt
  endsAt              DateTime
  
  // Auction configuration
  reservePrice        String?       
  currency            String        @default("SOL") 
  bidIncrementPercent Float?       
  payRoyalties        Boolean       @default(false) 
  royaltyPercentage   Float?        @default(0) 
  
  // Current state
  highestBidAmount    String        @default("0")
  highestBidderWallet String?       // Solana wallet address
  hasAnyBid           Boolean       @default(false)
  status              AuctionStatus @default(NONE)
  
  // Completion details
  finalPrice          String?
  creatorAmount       String?       // Amount sent to creator after fees
  feeAmount           String?       // Platform fee collected
  completedAt         DateTime?
  cancelledAt         DateTime?
  
  // On-chain data
  auctionPda          String?       // Auction PDA address
  auctionBump         Int?          // PDA bump seed
  bidEscrow           String?       // Bid escrow account
  
  // Relations
  bids                Bid[]
  favouritedBy        User[]        @relation("FavouriteAuction")
  creator             User          @relation("AuctionCreator", fields: [createdBy], references: [walletAddress])
  highestBidder       User?         @relation("AuctionWinner", fields: [highestBidderWallet], references: [walletAddress])
  transactions        Transaction[] @relation("TransactionAuction")
  @@map("auctions")
  @@index([createdBy])
  @@index([status])
  @@index([startsAt])
  @@index([endsAt])
  @@index([highestBidderWallet])
  @@index([collectionName])
}



enum AuctionStatus {
  NONE
  INITIALIZED
  ACTIVE
  CANCELLED
  COMPLETED_SUCCESSFULLY
  COMPLETED_FAILED
}