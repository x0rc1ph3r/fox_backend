model GumballPrize {
  id              Int       @id @default(autoincrement())
  gumball         Gumball   @relation("GumballPrizes", fields: [gumballId], references: [id], onDelete: Cascade)
  gumballId       Int
  prizeIndex      Int
  
  // Prize type
  isNft           Boolean   @default(false)
  
  // Token/NFT details
  mint            String
  name            String?
  symbol          String?
  image           String?
  decimals        Int?
  
  // Prize amounts
  totalAmount     BigInt    // Total value deposited
  prizeAmount     BigInt    // Amount per prize
  quantity        Int       // Number of this prize available
  quantityClaimed Int       @default(0)
  
  // For NFTs - floor price used for buy back calculation
  floorPrice      BigInt?
  
  createdAt       DateTime  @default(now())
  
  spins           GumballSpin[] @relation("PrizeSpins")

  @@unique([gumballId, prizeIndex])
  @@map("gumball_prizes")
  @@index([gumballId])
  @@index([mint])
}
